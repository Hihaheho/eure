unimplemented = true

# Test: variant field completion (set-choices)
# From: crates/eure-editor-support/tests/completions_test.rs:test_variant_field_completion_different_variant
# Different variant shows different fields

schema = ```eure
$types.Action {
    @ $variants.set-text {
        @ speaker
        $type = .text

        @ lines {
            $array = .text
        }
    }

    @ $variants.set-choices {
        @ description
        $type = .text

        @ choices.$array {
            @ text
            $type = .text

            @ value
            $type = .text
        }
    }
}

@ actions {
    $array = .$types.Action
}
```

editor = ```eure
@ actions[]
$variant: set-choices
|_|
```

# Should have set-choices variant fields: description, choices
# Should NOT have fields from other variants: speaker, lines

@ completions[]
label = "description"
kind = "field"

@ completions[]
label = "choices"
kind = "field"

completions_should_not_contain = ["speaker", "lines"]
